name: HardCoded JavaSetup for Mac
on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
  workflow_dispatch: # Allows manual trigger
jobs:
  setup-mac:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        include:
          - os: macos-12 # macOS Intel (x86_64)
            script: JavaSetup_Mac_Intel.sh
          - os: macos-14 # macOS Apple Silicon (ARM64)
            script: JavaSetup_Mac_Silicon.sh
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4
      - name: Create and Change to Target Directory
        run: |
          mkdir -p $HOME/.local/java
          cd $HOME/.local/java
          echo "Working directory is now: $(pwd)"
      - name: Debug System Information
        run: |
          echo "üèóÔ∏è Running on: $(uname -s)"
          echo "üñ•Ô∏è Architecture: $(uname -m)"
          echo "üçè macOS Version: $(sw_vers -productVersion)"
          echo "üîç Default Shell: $SHELL"
          echo "üêö Default Bash Version:"
          /bin/bash --version
      - name: Run Java Setup Script with Default Bash
        working-directory: $HOME/.local/java
        run: |
          /bin/bash ${{ matrix.script }}
